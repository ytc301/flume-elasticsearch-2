# hybase to feed

# Name the components on this agent
a1.sources = r1
a1.sinks = k1
a1.channels = c1

# Describe/configure the source
a1.sources.r1.type = com.trs.smas.flume.TRSHybaseSource
a1.sources.r1.url = http://192.168.200.12:5555
a1.sources.r1.username = datasearch2013nov
a1.sources.r1.password = hybasesearch@)!#nov2013
a1.sources.r1.database = dc_chuantong_0819
a1.sources.r1.filter =  
a1.sources.r1.watermark = HYBASE_LOADTIME_A
a1.sources.r1.from = 2014/05/04 13:30:00
a1.sources.r1.checkpoint = /dev/shm/flume/test/sources/checkpoint
a1.sources.r1.exportTmp = /dev/shm/flume/test/sources/
a1.sources.r1.batchSize = 10000
a1.sources.r1.headers = 
a1.sources.r1.partition = IR_URLDATE
a1.sources.r1.delay = -10
a1.sources.r1.range = 30
a1.sources.r1.step = 60
a1.sources.r1.body = <REC>\n<IR_ABSTRACT>={IR_ABSTRACT}\n<IR_AUTHORS>={IR_AUTHORS}\n<IR_BBSNUM>={IR_BBSNUM}\n<IR_CATALOG>={IR_CATALOG}\n<IR_CATALOG1>={IR_CATALOG1}\n<IR_CATALOG2>={IR_CATALOG2}\n<IR_CHANNEL>={IR_CHANNEL}\n<IR_CHARSET>={IR_CHARSET}\n<IR_CONTENT>={IR_CONTENT}\n<IR_DELEOPERATOR>={IR_DELEOPERATOR}\n<IR_DELETIME>={IR_DELETIME}\n<IR_DISTRICT>={IR_DISTRICT}\n<IR_DOCLENGTH>={IR_DOCLENGTH}\n<IR_EXPORTID>={IR_EXPORTID}\n<IR_EXPORTNAME>={IR_EXPORTNAME}\n<IR_EXPORTTYPE>={IR_EXPORTTYPE}\n<IR_EXTNAME>={IR_EXTNAME}\n<IR_FORMAT>={IR_FORMAT}\n<IR_GROUPNAME>={IR_GROUPNAME}\n<IR_HKEY>={IR_HKEY}\n<IR_IMAGEFLAG>={IR_IMAGEFLAG}\n<IR_ISTRASH>={IR_ISTRASH}\n<IR_KEYWORDS>={IR_KEYWORDS}\n<IR_LASTTIME>={IR_LASTTIME}\n<IR_LOADTIME>={IR_LOADTIME}\n<IR_MIMETYPE>={IR_MIMETYPE}\n<IR_NRESERVED1>={IR_NRESERVED1}\n<IR_NRESERVED2>={IR_NRESERVED2}\n<IR_NRESERVED3>={IR_NRESERVED3}\n<IR_PAGELEVEL>={IR_PAGELEVEL}\n<IR_PAGERANK>={IR_PAGERANK}\n<IR_PKEY>={IR_PKEY}\n<IR_PUBTYPE>={IR_PUBTYPE}\n<IR_SERVICEID>={IR_SERVICEID}\n<IR_SID>={IR_SID}\n<IR_SIMFLAG>={IR_SIMFLAG}\n<IR_SIMRANK>={IR_SIMRANK}\n<IR_SITENAME>={IR_SITENAME}\n<IR_SRCNAME>={IR_SRCNAME}\n<IR_SRESERVED1>={IR_SRESERVED1}\n<IR_SRESERVED2>={IR_SRESERVED2}\n<IR_SRESERVED3>={IR_SRESERVED3}\n<IR_STARTID>={IR_STARTID}\n<IR_STATUS>={IR_STATUS}\n<IR_TABLEFLAG>={IR_TABLEFLAG}\n<IR_URLBODY>={IR_URLBODY}\n<IR_URLCONTENT>={IR_URLCONTENT}\n<IR_URLDATE>={IR_URLDATE}\n<IR_URLIMAGE>={IR_URLIMAGE}\n<IR_URLLEVEL>={IR_URLLEVEL}\n<IR_URLNAME>={IR_URLNAME}\n<IR_URLSIZE>={IR_URLSIZE}\n<IR_URLTABLE>={IR_URLTABLE}\n<IR_URLTIME>={IR_URLTIME}\n<IR_URLTITLE>={IR_URLTITLE}\n<IR_URLTOPIC>={IR_URLTOPIC}\n<IR_VRESERVED1>={IR_VRESERVED1}\n<IR_VRESERVED2>={IR_VRESERVED2}\n<IR_VRESERVED3>={IR_VRESERVED3}\n<IR_VRESERVED4>={IR_VRESERVED4}\n<IR_WCMID>={IR_WCMID}\n<CATALOG_AREA>={CATALOG_AREA}\n<MD5TAG>={MD5TAG}\n<SIMFLAG>={SIMFLAG}\n<SIMID>={SIMID}\n<TITLE_SIMFLAG>={TITLE_SIMFLAG}\n<TITLE_SIMID>={TITLE_SIMID}\n<URLNAMEMD5>={URLNAMEMD5}\n<CLICK_NUM>={CLICK_NUM}\n<REPLY_NUM>={REPLY_NUM}\n<BROWSE_NUM>={BROWSE_NUM}\n<IR_HY_LOADTIME>={IR_HY_LOADTIME}\n<IR_URLTIME_YEAR>={IR_URLTIME_YEAR}\n<IR_URLTIME_MONTH>={IR_URLTIME_MONTH}\n<IR_URLTIME_HOUR>={IR_URLTIME_HOUR}\n<SIMNUM>={SIMNUM}\n<TITLE_SIMNUM>={TITLE_SIMNUM}\n<IR_ADDITION_CHAR1>={IR_ADDITION_CHAR1}\n<IR_ADDITION_CHAR2>={IR_ADDITION_CHAR2}\n<IR_ADDITION_CHAR3>={IR_ADDITION_CHAR3}\n<IR_ADDITION_NUM1>={IR_ADDITION_NUM1}\n<IR_ADDITION_PHRASE1>={IR_ADDITION_PHRASE1}\n<IR_ADDITION_DOC1>={IR_ADDITION_DOC1}\n<IR_ADDITION_DATE1>={IR_ADDITION_DATE1}\n<ADDTION_CATALOG_DATA>={ADDTION_CATALOG_DATA}\n<ADDITION_CATALOG_CONCATA>={ADDITION_CATALOG_CONCATA}\n

a1.sinks.k1.type = com.trs.smas.flume.FeedSink
a1.sinks.k1.bufferDir = /dev/shm/flume/test/sinks/
a1.sinks.k1.backupDir = /dev/shm/flume/test/sinks/error/
a1.sinks.k1.batchSize = 10000
a1.sinks.k1.dbHost = 192.168.200.2
a1.sinks.k1.dbPort = 8899
a1.sinks.k1.dbUsername = system
a1.sinks.k1.dbPassword = manager2013admin
a1.sinks.k1.dbTemplate = testTemplate
a1.sinks.k1.format = {body}
a1.sinks.k1.redisHost = 192.168.201.173
a1.sinks.k1.redisPort = 6379
a1.sinks.k1.subscribersKey = subscribers
a1.sinks.k1.kafkaHost = 192.168.201.173
a1.sinks.k1.kafkaPort = 9092


# Use a channel which buffers events in memory
a1.channels.c1.type = file
a1.channels.c1.checkpointDir = /dev/shm/flume/test/channel/checkpoint
a1.channels.c1.dataDirs = /dev/shm/flume/test/channel/data
a1.channels.c1.write-timeout = 60
a1.channels.c1.capacity = 100000
a1.channels.c1.transactionCapacity = 10000

# Bind the source and sink to the channel
a1.sources.r1.channels = c1
a1.sinks.k1.channel = c1
