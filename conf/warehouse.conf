# warehouse.conf: A single-node Flume configuration

# Name the components on this agent
agent.sources = receiver
agent.channels = warehouse_channel
agent.sinks = ssd2 ssd3 ssd4 ssd5 ssd27 ssd28

agent.sinkgroups = warehouse
agent.sinkgroups.warehouse.sinks = ssd2 ssd3 ssd4 ssd5 ssd27 ssd28
agent.sinkgroups.warehouse.processor.type = load_balance
agent.sinkgroups.warehouse.processor.selector = round_robin

agent.sources.receiver.channels = warehouse_channel

agent.sinks.ssd2.channel = warehouse_channel
agent.sinks.ssd3.channel = warehouse_channel
agent.sinks.ssd4.channel = warehouse_channel
agent.sinks.ssd5.channel = warehouse_channel
agent.sinks.ssd27.channel = warehouse_channel
agent.sinks.ssd28.channel = warehouse_channel

agent.sources.receiver.type = avro
agent.sources.receiver.bind = 127.0.0.1
agent.sources.receiver.port = 11000
agent.sources.receiver.threads = 5

agent.channels.warehouse_channel.type = file
agent.channels.warehouse_channel.checkpointDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/channel/warehouse/checkpoint
agent.channels.warehouse_channel.dataDirs = /home/spark/apps/apache-flume-1.4.0-bin/data/production/channel/warehouse/data
agent.channels.warehouse_channel.write-timeout = 60
agent.channels.warehouse_channel.capacity = 1000000
agent.channels.warehouse_channel.transactionCapacity = 1000000

agent.sinks.ssd2.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd2.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/2
agent.sinks.ssd2.batchSize = 1000
agent.sinks.ssd2.host = 192.168.201.2
agent.sinks.ssd2.port = 9999
agent.sinks.ssd2.username = radar
agent.sinks.ssd2.password = trsadmin
agent.sinks.ssd2.database = {.group}_{.month}
agent.sinks.ssd2.format = {body}
agent.sinks.ssd2.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/2
agent.sinks.ssd2.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/2

agent.sinks.ssd3.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd3.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/3
agent.sinks.ssd3.batchSize = 1000
agent.sinks.ssd3.host = 192.168.201.3
agent.sinks.ssd3.port = 9999
agent.sinks.ssd3.username = radar
agent.sinks.ssd3.password = trsadmin
agent.sinks.ssd3.database = {.group}_{.month}
agent.sinks.ssd3.format = {body}
agent.sinks.ssd3.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/3
agent.sinks.ssd3.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/3

agent.sinks.ssd4.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd4.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/4
agent.sinks.ssd4.batchSize = 1000
agent.sinks.ssd4.host = 192.168.201.4
agent.sinks.ssd4.port = 9999
agent.sinks.ssd4.username = radar
agent.sinks.ssd4.password = trsadmin
agent.sinks.ssd4.database = {.group}_{.month}
agent.sinks.ssd4.format = {body}
agent.sinks.ssd4.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/4
agent.sinks.ssd4.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/4

agent.sinks.ssd5.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd5.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/5
agent.sinks.ssd5.batchSize = 1000
agent.sinks.ssd5.host = 192.168.201.5
agent.sinks.ssd5.port = 9999
agent.sinks.ssd5.username = radar
agent.sinks.ssd5.password = trsadmin
agent.sinks.ssd5.database = {.group}_{.month}
agent.sinks.ssd5.format = {body}
agent.sinks.ssd5.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/5
agent.sinks.ssd5.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/5

agent.sinks.ssd27.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd27.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/27
agent.sinks.ssd27.batchSize = 1000
agent.sinks.ssd27.host = 192.168.200.27
agent.sinks.ssd27.port = 9999
agent.sinks.ssd27.username = radar
agent.sinks.ssd27.password = trsadmin
agent.sinks.ssd27.database = {.group}_{.month}
agent.sinks.ssd27.format = {body}
agent.sinks.ssd27.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/27
agent.sinks.ssd27.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/27

agent.sinks.ssd28.type = com.trs.smas.flume.MultiplexTRSServerSink
agent.sinks.ssd28.bufferDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/sink/28
agent.sinks.ssd28.batchSize = 1000
agent.sinks.ssd28.host = 192.168.200.28
agent.sinks.ssd28.port = 9999
agent.sinks.ssd28.username = radar
agent.sinks.ssd28.password = trsadmin
agent.sinks.ssd28.database = {.group}_{.month}
agent.sinks.ssd28.format = {body}
agent.sinks.ssd28.errorDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/error/warehouse/28
agent.sinks.ssd28.reloadDir = /home/spark/apps/apache-flume-1.4.0-bin/data/production/reload/warehouse/28
